<!DOCTYPE html>
<html lang="en">
<head>
    <base href="http://192.168.6.145:8080/ssm_framework_war_exploded/">
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="js/dist/layui.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/common.js"></script>
    <script src="js/index.js"></script>
    <link rel="stylesheet" href="js/dist/css/layui.css" />
    <link rel="stylesheet" href="css/message.css" type="text/css">
</head>
<body>
<div class="clear">
    <div style="margin: 15px auto;width: 700px;text-align: center"><h2>消息提醒</h2></div>
    <hr>
    <div id="btn">
        <input type="button" value="全部" id="all" class="btn"><br>
        <input type="button" value="待审" id="noExamine" class="btn"><br>
        <input type="button" value="已审" id="examine" class="btn"><br>
        <input type="button" value="待阅" id="noRead" class="btn"><br>
        <input type="button" value="已阅" id="read" class="btn"><br>
    </div>
    <div id="messageContent">
        <table class="" id="content" lay-filter="test" STYLE="text-align: center"></table>
        <!--<table class="layui-table" style="width: 87%; text-align: center;" id="table1"></table>-->
    </div>
</div>
</body>
</html>
<script>
    var emp = $(window.parent.document).find(":input#empId");
    var empId = emp.val();
    layui.use('table', function() {
        var table = layui.table;
        // console.log(data);
        // data =$.parseJSON(data);
        //第一个实例
        table.render({
            elem: '#content'
            ,height:500
            , url: 'findAll?empId=' + empId
            , parseData: function (data) {//res 即为原始返回的数据
                data = $.parseJSON(data);
                return data;
            }
            ,page:true
            , cols: [[ //表头
                {field: 'messageType', title: '类型', fixed: 'left' ,align:'center'}
                , {field: 'messageContent', title: '内容',align:'center'}
                , {field: 'readStatus', title: '状态',align:'center'}
            ]]
        })

    })
        /**
         * 全部
         */
        $("#all").click(function () {

            layui.use('table', function() {
                var table = layui.table;
                // console.log(data);
                // data =$.parseJSON(data);
                //第一个实例
                table.render({
                    elem: '#content'
                    ,height:500
                    , url: 'findAll?empId=' + empId
                    , parseData: function (data) {//res 即为原始返回的数据
                        data = $.parseJSON(data);
                        return data;
                    }
                    , page:true
                    , cols: [[ //表头
                        {field: 'messageType', title: '类型', fixed: 'left',align:'center'}
                        , {field: 'messageContent', title: '内容',align:'center'}
                        , {field: 'readStatus', title: '状态',align:'center'}
                    ]]
                })

            })
        })
        /**
         * 待审
         */
        $("#noExamine").click(function () {
            layui.use('table', function() {
                var table = layui.table;
                // console.log(data);
                // data =$.parseJSON(data);
                //第一个实例
                table.render({
                    elem: '#content'
                    ,height:500
                    , url: 'findNoExamine?empId='+empId
                    , parseData: function (data) {//res 即为原始返回的数据
                        data = $.parseJSON(data);
                        return data;
                    }
                    , page:true
                    , cols: [[ //表头
                        {field: 'messageType', title: '类型', fixed: 'left',align:'center'}
                        , {field: 'messageContent', title: '内容',align:'center'}
                        , {field: 'readStatus', title: '状态',align:'center'}
                    ]]
                })

            })
        })

        /**
         * 已审
         */
        $("#examine").click(function () {
            layui.use('table', function() {
                var table = layui.table;
                // console.log(data);
                // data =$.parseJSON(data);
                //第一个实例
                table.render({
                    elem: '#content'
                    ,height:500
                    , url: 'examine?empId='+empId
                    , parseData: function (data) {//res 即为原始返回的数据
                        data = $.parseJSON(data);
                        return data;
                    }
                    , page:true
                    , cols: [[ //表头
                        {field: 'messageType', title: '类型', fixed: 'left'}
                        , {field: 'messageContent', title: '内容'}
                        , {field: 'readStatus', title: '状态'}
                    ]]
                })

            })
        })

        /**
         * 待阅
         */
        $("#noRead").click(function () {
            layui.use('table', function() {
                var table = layui.table;
                // console.log(data);
                // data =$.parseJSON(data);
                //第一个实例
                table.render({
                    elem: '#content'
                    ,height:500
                    , url: 'noRead?empId=' + empId
                    , parseData: function (data) {//res 即为原始返回的数据
                        data = $.parseJSON(data);
                        return data;
                    }
                    , page:true
                    , cols: [[ //表头
                        {field: 'messageType', title: '类型', fixed: 'left',align:'center'}
                        , {field: 'messageContent', title: '内容',align:'center'}
                        , {field: 'readStatus', title: '状态',align:'center'}
                    ]]
                })

            })
        })

        /**
         * 已阅
         */
        $("#read").click(function () {
            layui.use('table', function() {
                var table = layui.table;
                // console.log(data);
                // data =$.parseJSON(data);
                //第一个实例
                table.render({
                    elem: '#content'
                    ,height:500
                    , url: 'read?empId=' + empId
                    , parseData: function (data) {//res 即为原始返回的数据
                        data = $.parseJSON(data);
                        return data;
                    }
                    , page:true
                    , cols: [[ //表头
                        {field: 'messageType', title: '类型', fixed: 'left',align:'center'}
                        , {field: 'messageContent', title: '内容',align:'center'}
                        , {field: 'readStatus', title: '状态',align:'center'}
                    ]]
                })

            })
    })

</script>